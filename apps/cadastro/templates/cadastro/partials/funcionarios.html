<tbody id="funcionarios-tbody">
  {% for f in funcionarios %}
  <tr>
    <td>{{ f.nome }}</td>
    <td>{{ f.get_cargo_display }}</td>
    <td>{{ f.email|default:"—" }}</td>
    <td>{{ f.telefone|default:"—" }}</td>
    <td>
      {% if f.ativo %}
        <span class="badge bg-success">Ativo</span>
      {% else %}
        <span class="badge bg-secondary">Inativo</span>
      {% endif %}
    </td>
    <td class="text-end">
      <!-- EDITAR -->
      <button
        class="btn btn-sm btn-outline-primary"
        hx-get="{% url 'cadastro:funcionario_edit' f.pk %}"
        hx-target="#modalFuncionarioOps .modal-content"
        hx-swap="innerHTML"
        hx-on="htmx:afterOnLoad: (function(){ const m=document.getElementById('modalFuncionarioOps'); if(m){ bootstrap.Modal.getOrCreateInstance(m).show(); } })()"
      >
        Editar
      </button>

      <!-- EXCLUIR -->
      <button
        class="btn btn-sm btn-outline-danger"
        hx-get="{% url 'cadastro:funcionario_delete' f.pk %}"
        hx-target="#modalFuncionarioOps .modal-content"
        hx-swap="innerHTML"
        hx-on="htmx:afterOnLoad: (function(){ const m=document.getElementById('modalFuncionarioOps'); if(m){ bootstrap.Modal.getOrCreateInstance(m).show(); } })()"
      >
        Excluir
      </button>
    </td>
  </tr>
  {% empty %}
  <tr><td colspan="6" class="text-muted">Nenhum funcionário ainda.</td></tr>
  {% endfor %}
</tbody>
